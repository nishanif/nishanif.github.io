---
layout: default
title: Reference Code Generator
permalink: /tools/text-format-converter/
---
<section class="tool-shell">
    <div class="tool-header">
        <h1>Reference Code Generator</h1>
        <p>Paste text and generate formatted reference codes quickly.</p>
    </div>
    <div class="tool-body">
        <div class="form-actions">
            <input id="sourceFileInput" type="file" accept=".txt,.csv,.json,.md,.log,.xls,.xlsx,text/*" hidden>
            <button id="importFile" type="button" class="secondary">Import file</button>
            <p class="muted">Import UTF-8 text/CSV files or Excel files (.xlsx/.xls). If using CSV, save as UTF-8 to preserve special characters.</p>
        </div>

        <label class="form-control">
            Source text
            <textarea id="sourceText" rows="8" placeholder="Paste text here..."></textarea>
        </label>
        <label class="form-control">
            Find and replace rules (optional)
            <div id="replaceRulesList">
                <div class="form-grid form-grid-two replace-rule-row">
                    <input type="text" class="replace-find-input" placeholder="Find text (e.g., 1990 or #)">
                    <input type="text" class="replace-with-input" placeholder="Replace with (leave blank to remove)">
                </div>
            </div>
        </label>
        <div class="form-actions">
            <button id="addReplaceRule" type="button" class="secondary">+ Add replacement</button>
        </div>
        <p class="muted">Maximum output length is 256 characters. The tool warns and truncates if exceeded.</p>

        <div class="form-grid form-grid-two">
            <label class="form-control">
                Format mode
                <select id="formatMode">
                    <option value="line">Format each line</option>
                    <option value="full">Format full text once</option>
                </select>
            </label>
            <label class="form-control">
                Character length per output line (optional)
                <input type="number" id="lineLengthInput" min="1" step="1" placeholder="e.g., 12">
            </label>
        </div>

        <div class="form-grid form-grid-two">
            <label class="form-control">
                Text case pattern
                <select id="textCasePattern">
                    <option value="none">No change</option>
                    <option value="upper">ALL UPPER CASE</option>
                    <option value="lower">all lower case</option>
                    <option value="sentence">Sentence case</option>
                    <option value="title">Capitalize Each Word</option>
                    <option value="toggle">tOGGLE cASE</option>
                </select>
            </label>

            <label class="form-control">
                Space replacement
                <select id="spaceReplacePattern">
                    <option value="none">No change</option>
                    <option value="blank">Blank</option>
                    <option value="underscore">_</option>
                    <option value="hyphen">-</option>
                    <option value="dot">.</option>
                    <option value="comma">,</option>
                    <option value="slash">/</option>
                    <option value="backslash">\</option>
                    <option value="pipe">|</option>
                    <option value="colon">:</option>
                    <option value="semicolon">;</option>
                    <option value="at">@</option>
                    <option value="hash">#</option>
                    <option value="custom">Custom</option>
                </select>
            </label>
        </div>

        <label class="form-control" id="customSpaceWrap" hidden>
            Custom space replacement character
            <input type="text" id="customSpaceValue" placeholder="e.g., *">
        </label>

        <div class="form-grid form-grid-two">
            <label class="form-control">
                Special text or character (optional)
                <input type="text" id="specialTextInput" placeholder="e.g., #">
            </label>
            <label class="form-control">
                Add special text position
                <select id="specialTextPosition">
                    <option value="none">Do not add</option>
                    <option value="line_start">Beginning of each line</option>
                    <option value="line_end">End of each line</option>
                    <option value="after_n">After N characters</option>
                    <option value="before_n">Before N characters</option>
                </select>
            </label>
        </div>

        <label class="form-control" id="specialNWrap" hidden>
            N value
            <input type="number" id="specialNValue" min="1" step="1" placeholder="e.g., 5">
        </label>

        <div class="form-grid form-grid-two">
            <label class="check-control">
                <input type="checkbox" id="trimLines" checked>
                Trim spaces on each line
            </label>
            <label class="check-control">
                <input type="checkbox" id="skipEmpty" checked>
                Skip empty lines
            </label>
        </div>

        <div class="form-actions">
            <button id="formatText" type="button">Format text</button>
            <button id="resetFormatter" type="button" class="secondary">New conversion</button>
        </div>

        <label class="form-control">
            Formatted output
            <textarea id="formattedOutput" rows="8" readonly placeholder="Output will appear here"></textarea>
        </label>
        <div class="form-actions">
            <button id="copyOutput" type="button" class="secondary">Copy output</button>
            <button id="downloadOutputFile" type="button" class="secondary">Download text file</button>
            <button id="downloadCsv" type="button" class="secondary">Download CSV</button>
        </div>
        <div class="tool-result" id="formatStatus" aria-live="polite"></div>
        <p class="muted" id="lengthSummary"></p>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="{{ "/tools/text-format-converter.js" | relative_url }}"></script>
